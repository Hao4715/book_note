# 第2章 编译和链接
## 2.1 被隐藏的过程
程序从源码到可执行文件经过四步：预处理（prepressing）、编译（compilation）、汇编（assembly）和链接（linking）。
### 2.1.1 预编译、
预编译过程相当于`gcc -E hello.c -o hello.i` -E 表示只进行预编译。
与编译过程主要处理源代码文件中以“#”开始的预编译指令。比如“#include”、“#define”、删除注释、添加行号和文件名标识等。
### 2.1.2 编译
编译过程就是把预处理完的文件进行一系列**词法分析**、**语法分析**、**语义分析**及**优化**后生成相应的汇编代码文件。**编译过程是整个程序构建的核心部分。**上述编译过程相当于`gcc -S hello.i -o hello.s`。

现代编译器将预处理和编译两个步骤合并成一个步骤。使用 `gcc -S hello.c -o hello.s`即可得到汇编输出文件hello.s。

所以实际上gcc命令指示后台程序的包装，它会根据不同的参数要求去调用**预编译编译程序cc1**、**汇编器as**、**连接器ld**。